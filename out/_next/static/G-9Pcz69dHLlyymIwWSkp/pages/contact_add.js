(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{WI49:function(t,e,a){"use strict";a("LmZi")},cihW:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contact_add",function(){return a("tncm")}])},tncm:function(t,e,a){"use strict";a.r(e);var n=a("q1tI"),i=a.n(n),s=a("YFqc"),r=a.n(s),o=a("h7RS"),c=a("0iUn"),u=a("sLSF"),l=a("MI3g"),d=a("a7VT"),h=a("AT/M"),f=a("Tit0"),g=a("vYYK"),b=a("iqUP"),v=a.n(b),m=(a("WI49"),a("nOHt")),p=a.n(m),w=i.a.createElement,I=function(t){function e(t){var a;return Object(c.a)(this,e),a=Object(l.a)(this,Object(d.a)(e).call(this,t)),Object(g.a)(Object(h.a)(a),"style",{heigth:"7em",width:"350px",lineHeight:"1.5em"}),a.state={msg_str:"",lastID:-1,data:[]},a.getLastID(),a.doChangeMsg=a.doChangeMsg.bind(Object(h.a)(a)),a.doAction=a.doAction.bind(Object(h.a)(a)),a}return Object(f.a)(e,t),Object(u.a)(e,[{key:"doChangeMsg",value:function(t){this.setState({msg_str:t.target.value})}},{key:"doAction",value:function(t){this.addFireData(),p.a.push("/contact_board")}},{key:"getLastID",value:function(){var t=v.a.database().ref("sample/"),e=this;t.orderByKey().limitToLast(1).on("value",function(t){var a=t.val();for(var n in a)return void e.setState({lastID:n})})}},{key:"addFireData",value:function(){if(-1!=this.state.lastID){var t=1*this.state.lastID+1,e=v.a.database(),a=(new Date).toString().slice(4,10);e.ref("/sample/"+t).set({ID:t,message:this.state.msg_str,date:a})}}},{key:"render",value:function(){return-1==this.state.lastID&&this.getLastID(),w("div",null,w("from",null,w("textarea",{style:this.style,placeholder:"type message:",onChange:this.doChangeMsg,value:this.state.msg_str}),w("br",null),w("button",{onClick:this.doAction},"\u65b0\u898f\u6295\u7a3f")))}}]),e}(n.Component),_=i.a.createElement;e.default=function(){return _(o.a,{header:"Whiteboard",title:"\u65b0\u898f\u6295\u7a3f"},_(I,null),_(r.a,{href:"/contact_board"},_("a",null,"<< \u623b\u308b")))}},vYYK:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var n=a("hfKm"),i=a.n(n);function s(t,e,a){return e in t?i()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}}},[["cihW",1,0]]]);